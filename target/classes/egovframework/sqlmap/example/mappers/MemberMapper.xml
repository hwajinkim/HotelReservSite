<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="egovframework.sonorous.user.service.impl.MemberMapper">

	<resultMap id="member" type="egovframework.sonorous.user.service.MemberVO">
		<result property="mId" column="m_id"/>
		<result property="mPw" column="m_pw"/>
		<result property="country" column="country"/>
		<result property="eName" column="e_name"/>
		<result property="kName" column="k_name"/>
		<result property="birth" column="birth"/>
		<result property="phone" column="phone"/>
		<result property="email" column="email"/>
		<result property="insDate" column="ins_date"/>
		<result property="modDate" column="mod_date"/>
	</resultMap>

	<select id="selectMember" parameterType="memberVO" resultMap="member">
			SELECT <!-- selectMember -->
				  M_ID
				, M_PW
				, COUNTRY
				, E_NAME
				, K_NAME
				, BIRTH
				, PHONE
				, EMAIL
				, INS_DATE
				, MOD_DATE
			FROM 
				T_MEMBER
			WHERE 
				1=1
			<if test="mId != null and mId !=''">
				AND M_ID = #{mId}
			</if>
	</select>

	<select id="loginMember" resultMap="member">
			SELECT <!-- selectMember -->
				  M_ID
				, M_PW
				, COUNTRY
				, E_NAME
				, K_NAME
				, BIRTH
				, PHONE
				, EMAIL
				, INS_DATE
				, MOD_DATE
			FROM 
				T_MEMBER
			WHERE 
				1=1
			<if test="mId != null and mId !=''">
				AND M_ID = #{mId}
			</if>
			<if test="mPw != null and mPw !=''">
				AND M_PW = #{mPw}
			</if>
	</select>
	
	<insert id="insertMember" parameterType="memberVO">
		INSERT INTO T_MEMBER (
			  M_ID
			, M_PW
			, COUNTRY
			, E_NAME
			, K_NAME
			, BIRTH
			, PHONE
			, EMAIL
			, INS_DATE
		)VALUES(
			  #{mId}
			, #{mPw}
			, #{country}
			, #{eName}
			, #{kName}
			, #{birth}
			, #{phone}
			, #{email}
			, NOW()
		)
	</insert>
	
	

</mapper>